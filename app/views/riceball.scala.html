@(riceballs: List[Riceball], riceballCount: Int, page: Int, pageLength: Int, stores: List[Store], searchForm: Form[(String,Int)])(implicit messages: Messages)

@import helper._
@import views.html.common.forms.storeSelector

@main("おにぎりデータベース") {

  <h1>@riceballCount 個のおにぎりが登録されています。</h1>

  @form(routes.RiceballController.search) {
    @inputText(searchForm("word"))
    @storeSelector(searchForm("storeId"), stores.map(s => s.id -> s.name))
    <input type="submit" value="検索">
  }
  <input type="button" onclick="location.href='@routes.RiceballController.add'" value="おにぎり登録">

  <table>
    <tr>
      <th>具の名前</th>
      <th>売っている店舗</th>
    </tr>
    @riceballs.map { riceball =>
      <tr>
        <td><a href=@routes.RiceballController.detail(riceball.id)>@riceball.name</a></td>
        <td>@stores.find(s => s.id == riceball.storeId).get.name</td>
      </tr>
    }
  </table>

  @if(page * pageLength < riceballCount){
    <a href=@routes.RiceballController.list(page+1)>進む</a>
  }
  @if(page > 1){
    <a href=@routes.RiceballController.list(page-1)>戻る</a>
  }


}
